schema: '2.0'
stages:
  prepare:
    cmd: uv run python src/probafcst/pipeline/prepare.py
    deps:
    - path: src/probafcst//data.py
      hash: md5
      md5: 6d59fa3c8a1c02fca7f10e251db64a2a
      size: 3645
    - path: src/probafcst/pipeline/prepare.py
      hash: md5
      md5: 4a10769d280f0d261a5c2ec241080c40
      size: 1433
    outs:
    - path: data/energy.parquet
      hash: md5
      md5: ad440470ca62eaef0beb641f52577331
      size: 523826
  prepare@energy:
    cmd: uv run python src/probafcst/pipeline/prepare.py --target energy
    deps:
    - path: src/probafcst//data.py
      hash: md5
      md5: 9ebb26cb2d17806d29968a9235425167
      size: 3798
    - path: src/probafcst/pipeline/prepare.py
      hash: md5
      md5: 5437a9e458ff6638d74d4273b802a380
      size: 2130
    params:
      params.yaml:
        data.energy:
          filename: energy.parquet
          ignore_years: 0
    outs:
    - path: data/energy.parquet
      hash: md5
      md5: 17054b00d8f836d42989ebf6c26e88a9
      size: 1308355
  prepare@bikes:
    cmd: uv run python src/probafcst/pipeline/prepare.py --target bikes
    deps:
    - path: src/probafcst//data.py
      hash: md5
      md5: 9ebb26cb2d17806d29968a9235425167
      size: 3798
    - path: src/probafcst/pipeline/prepare.py
      hash: md5
      md5: 5437a9e458ff6638d74d4273b802a380
      size: 2130
    params:
      params.yaml:
        data.bikes:
          filename: bikes.parquet
          start_date: '2012-04-25'
    outs:
    - path: data/bikes.parquet
      hash: md5
      md5: 862661c5233b2a8676142689872f98db
      size: 63575
  prepare@no2:
    cmd: uv run python src/probafcst/pipeline/prepare.py --target no2
    deps:
    - path: src/probafcst//data.py
      hash: md5
      md5: 9ebb26cb2d17806d29968a9235425167
      size: 3798
    - path: src/probafcst/pipeline/prepare.py
      hash: md5
      md5: 5437a9e458ff6638d74d4273b802a380
      size: 2130
    params:
      params.yaml:
        data.no2:
          filename: no2.parquet
          start_date: '2016-01-01'
          end_date: '2024-10-26'
    outs:
    - path: data/no2.parquet
      hash: md5
      md5: c0f37fa6ec1865b682bb3add8ed17c39
      size: 801854
  train@energy:
    cmd: uv run python src/probafcst/pipeline/train.py --target energy
    deps:
    - path: data/energy.parquet
      hash: md5
      md5: 17054b00d8f836d42989ebf6c26e88a9
      size: 1308355
    - path: src/probafcst//model.py
      hash: md5
      md5: 4012051ff8e014e21b0f2f762341189c
      size: 881
    - path: src/probafcst/pipeline/train.py
      hash: md5
      md5: b986f3cb2605277a0930bd3c713b38d8
      size: 965
    params:
      params.yaml:
        data.energy:
          filename: energy.parquet
          ignore_years: 0
    outs:
    - path: models/energy_model.pkl
      hash: md5
      md5: 9a97e44d9dce794e37548a1f57cbd5b3
      size: 2068059
  train@bikes:
    cmd: uv run python src/probafcst/pipeline/train.py --target bikes
    deps:
    - path: data/bikes.parquet
      hash: md5
      md5: 862661c5233b2a8676142689872f98db
      size: 63575
    - path: src/probafcst//model.py
      hash: md5
      md5: 4012051ff8e014e21b0f2f762341189c
      size: 881
    - path: src/probafcst/pipeline/train.py
      hash: md5
      md5: b986f3cb2605277a0930bd3c713b38d8
      size: 965
    params:
      params.yaml:
        data.bikes:
          filename: bikes.parquet
          start_date: '2012-04-25'
    outs:
    - path: models/bikes_model.pkl
      hash: md5
      md5: 4fa09d417e26e3a5773038d319b5cdd6
      size: 111503
  train@no2:
    cmd: uv run python src/probafcst/pipeline/train.py --target no2
    deps:
    - path: data/no2.parquet
      hash: md5
      md5: c0f37fa6ec1865b682bb3add8ed17c39
      size: 801854
    - path: src/probafcst//model.py
      hash: md5
      md5: 4012051ff8e014e21b0f2f762341189c
      size: 881
    - path: src/probafcst/pipeline/train.py
      hash: md5
      md5: b986f3cb2605277a0930bd3c713b38d8
      size: 965
    params:
      params.yaml:
        data.no2:
          filename: no2.parquet
          start_date: '2016-01-01'
          end_date: '2024-10-26'
    outs:
    - path: models/no2_model.pkl
      hash: md5
      md5: ae97b7c132b660aacc13eb0bf3c76ac5
      size: 1857779
  submit:
    cmd: uv run python src/probafcst/pipeline/submit.py
    deps:
    - path: models/bikes_model.pkl
      hash: md5
      md5: 4fa09d417e26e3a5773038d319b5cdd6
      size: 111503
    - path: models/energy_model.pkl
      hash: md5
      md5: 9a97e44d9dce794e37548a1f57cbd5b3
      size: 2068059
    - path: models/no2_model.pkl
      hash: md5
      md5: ae97b7c132b660aacc13eb0bf3c76ac5
      size: 1857779
    - path: src/probafcst//utils/check_submission.py
      hash: md5
      md5: fb648b16d692806cf2c254843b9e3366
      size: 6478
    - path: src/probafcst//utils/create_submission.py
      hash: md5
      md5: 109940c2584602851ca4d331128ee595
      size: 3196
    - path: src/probafcst/pipeline/submit.py
      hash: md5
      md5: 53c3389e55c2b62e334408766bea0640
      size: 1536
    params:
      params.yaml:
        quantiles:
        - 0.025
        - 0.25
        - 0.5
        - 0.75
        - 0.975
    outs:
    - path: output/submission.csv
      hash: md5
      md5: 6b65d221dfe3d9353f92bb97cb7e0493
      size: 1091
